<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Path Planning Backend Service</title>
    <link rel="stylesheet" href="/src/styles/main.css">
</head>
<body>
    <div class="app-container">
        <header>
            <h1>ðŸ¤– Path Planning Backend Service</h1>
            <div class="header-stats" id="headerStats">
                <span>Total Walls: <strong id="totalWalls">0</strong></span>
                <span>Total Paths: <strong id="totalPaths">0</strong></span>
                <span>Avg Coverage: <strong id="avgCoverage">0%</strong></span>
            </div>
        </header>

        <div class="main-content">
            <!-- Control Panel -->
            <aside class="control-panel">
                <div class="panel-section">
                    <h2>Wall Configuration</h2>
                    <form id="wallForm">
                        <div class="form-group">
                            <label>Name:</label>
                            <input type="text" id="wallName" required placeholder="Living Room Wall">
                        </div>
                        <div class="form-group">
                            <label>Width (m):</label>
                            <input type="number" id="wallWidth" step="0.1" min="1" max="20" value="5" required>
                        </div>
                        <div class="form-group">
                            <label>Height (m):</label>
                            <input type="number" id="wallHeight" step="0.1" min="1" max="10" value="3" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Create Wall</button>
                    </form>
                </div>

                <div class="panel-section">
                    <h2>Select Wall</h2>
                    <select id="wallSelect" class="form-control">
                        <option value="">-- Select a Wall --</option>
                    </select>
                </div>

                <div class="panel-section">
                    <h2>Add Obstacle</h2>
                    <form id="obstacleForm">
                        <div class="form-group">
                            <label>Obstacle Name (optional):</label>
                            <input type="text" id="obstacleName" placeholder="e.g. Window, Door">
                        </div>
                        <div class="form-group">
                            <label>Type:</label>
                            <select id="obstacleType" class="form-control">
                                <option value="rectangle">Rectangle</option>
                                <option value="circle">Circle</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>X Position (m) - Center:</label>
                            <input type="number" id="obstacleX" step="0.1" value="1" required>
                        </div>
                        <div class="form-group">
                            <label>Y Position (m) - Center:</label>
                            <input type="number" id="obstacleY" step="0.1" value="1" required>
                        </div>
                        <div class="form-group" id="rectDimensions">
                            <label>Width (m):</label>
                            <input type="number" id="obstacleWidth" step="0.1" value="0.5">
                            <label>Height (m):</label>
                            <input type="number" id="obstacleHeight" step="0.1" value="0.5">
                        </div>
                        <div class="form-group" id="circleDimensions" style="display:none;">
                            <label>Radius (m):</label>
                            <input type="number" id="obstacleRadius" step="0.1" value="0.3">
                        </div>
                        <button type="submit" class="btn btn-secondary">Add Obstacle</button>
                    </form>
                </div>

                <div class="panel-section">
                    <h2>Plan Path</h2>
                    <form id="pathForm">
                        <div class="form-group">
                            <label>Algorithm:</label>
                            <select id="algorithmType" class="form-control">
                                <option value="coverage">Coverage (Recommended)</option>
                                <option value="genetic">Genetic Optimization</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-success">Plan Path</button>
                    </form>
                </div>

                <div class="panel-section">
                    <h2>Metrics</h2>
                    <div id="metricsDisplay" class="metrics">
                        <p>Select a wall to view metrics</p>
                    </div>
                </div>
            </aside>

            <!-- Visualization Canvas -->
            <main class="canvas-container">
                <div class="canvas-header">
                    <h2>2D Trajectory Visualization</h2>
                    <div class="canvas-controls">
                        <button id="clearBtn" class="btn btn-sm">Clear</button>
                        <button id="zoomInBtn" class="btn btn-sm">Zoom +</button>
                        <button id="zoomOutBtn" class="btn btn-sm">Zoom -</button>
                    </div>
                </div>
                <canvas id="canvas" width="800" height="600"></canvas>
                <div class="canvas-info" id="canvasInfo">
                    <p>No wall selected. Create or select a wall to begin.</p>
                </div>
            </main>
        </div>
    </div>

    <script type="module" src="/src/main.js"></script>
</body>
</html>
